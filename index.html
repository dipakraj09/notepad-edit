<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Supreme Code Editor
  </title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js">
  </script>
  <!-- Atom One Dark theme for syntax highlighting (Always Dark) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css" id="hljs-theme" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/sql.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js">
  </script>
  <!-- PDF.js for PDF viewing -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js">
  </script>
  <link href="style.css" rel="stylesheet"/>
 </head>
 <body>
  <div class="container" id="mainContainer">
   <h1>
    Supreme Code Editor
   </h1>
   <div class="file-zone" id="dropZone">
    <p>
     Drag &amp; Drop your file here or
    </p>
    <input class="file-input" id="fileInput" multiple="" type="file"/>
    <button class="action-btn select-btn" id="selectBtn">
     <svg fill="none" height="20" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4">
      </path>
      <polyline points="17 8 12 3 7 8">
      </polyline>
      <line x1="12" x2="12" y1="3" y2="15">
      </line>
     </svg>
     Select File
    </button>
   </div>
   <div class="editor-wrapper">
    <div class="editor-toolbar">
     <div class="language-indicator" id="languageIndicator">
      <i>
      </i>
      <span>
       Text
      </span>
     </div>
     <div class="toolbar-actions">
      <!-- NEW BASIC TOOLS -->
      <button class="tool-btn" id="undoBtn" title="Undo (Ctrl+Z)">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 7v6h6">
        </path>
        <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13">
        </path>
       </svg>
      </button>
      <button class="tool-btn" id="redoBtn" title="Redo (Ctrl+Y)">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M21 7v6h-6">
        </path>
        <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7">
        </path>
       </svg>
      </button>
      <button class="tool-btn" id="findBtn" title="Find &amp; Replace (Ctrl+F)">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <circle cx="11" cy="11" r="8">
        </circle>
        <path d="m21 21-4.35-4.35">
        </path>
       </svg>
      </button>
      <button class="tool-btn" id="selectAllBtn" title="Select All (Ctrl+A)">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 11H3v10h6V11zM21 11h-6v10h6V11zM9 3H3v6h6V3zM21 3h-6v6h6V3z">
        </path>
       </svg>
      </button>
      <button class="tool-btn" id="duplicateLineBtn" title="Duplicate Line (Ctrl+D)">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <rect height="13" rx="2" ry="2" width="13" x="9" y="9">
        </rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1">
        </path>
       </svg>
      </button>
      <button class="tool-btn" id="deleteLineBtn" title="Delete Line (Ctrl+Shift+K)">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <line x1="18" x2="6" y1="6" y2="18">
        </line>
        <line x1="6" x2="18" y1="6" y2="18">
        </line>
       </svg>
      </button>
      <!-- NEW: Additional Useful Tools -->
      <button class="tool-btn" id="wordCountBtn" title="Word &amp; Character Count">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 7V4h16v3M9 20h6M12 4v16">
        </path>
       </svg>
       <span id="wordCountDisplay">
        0
       </span>
      </button>
      <button class="tool-btn" id="trimSpacesBtn" title="Trim Extra Spaces">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M17 12H7M12 7l-5 5 5 5">
        </path>
        <rect height="18" rx="2" width="14" x="5" y="3">
        </rect>
       </svg>
      </button>
      <button class="tool-btn" id="sortLinesBtn" title="Sort Lines Alphabetically">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="m3 16 4 4 4-4M7 20V4M17 8l4-4 4 4M21 4v16">
        </path>
       </svg>
      </button>
      <button class="tool-btn" id="timestampBtn" title="Insert Timestamp">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10">
        </circle>
        <polyline points="12 6 12 12 16 14">
        </polyline>
       </svg>
      </button>
      <button class="tool-btn" id="toggleLineNumbersBtn" title="Toggle Line Numbers">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <line x1="3" x2="3" y1="6" y2="6">
        </line>
        <line x1="3" x2="3" y1="12" y2="12">
        </line>
        <line x1="3" x2="3" y1="18" y2="18">
        </line>
        <line x1="8" x2="21" y1="6" y2="6">
        </line>
        <line x1="8" x2="21" y1="12" y2="12">
        </line>
        <line x1="8" x2="21" y1="18" y2="18">
        </line>
       </svg>
      </button>
      <!-- END NEW TOOLS -->
      <button class="tool-btn" id="themeToggleBtn" title="Toggle Dark/Light Mode (Ctrl+M)">
       <svg fill="none" height="24" id="themeIcon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z">
        </path>
       </svg>
      </button>
      <!-- MODIFIED: "Clean" button is replaced by "Go To Line" button -->
      <button class="tool-btn" id="goToLineBtn" title="Click to enter a line number — editor will jump, show line content and blink it red for 1s.">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 13a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-6z">
        </path>
        <path d="M10 3H8a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM14 3h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z">
        </path>
        <path d="M3 14h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z">
        </path>
       </svg>
       <span id="lineCountLabel">
        Lines: 1
       </span>
      </button>
      <button class="tool-btn" id="previewBtn" title="Toggle Preview (HTML/MD)">
       <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z">
        </path>
        <circle cx="12" cy="12" r="3">
        </circle>
       </svg>
       Preview
      </button>
      <button class="tool-btn" id="copyBtn" title="Copy to Clipboard (Ctrl+C)">
       <svg class="copy-icon" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-2M8 7V5a2 2 0 012-2h4a2 2 0 012 2v2m-6 0h6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       Copy
      </button>
     </div>
    </div>
    <!-- Editor area with highlighting -->
    <div id="editor-container">
     <textarea autocapitalize="off" autocomplete="off" autocorrect="off" id="editor" placeholder="Drop a file, type, or paste (Ctrl+V) your content here..." spellcheck="false"></textarea>
     <pre aria-hidden="true" id="highlighting-area"><code class="language-text" id="highlighting-code"></code></pre>
    </div>
    <!-- Preview area for HTML/MD -->
    <div id="previewArea">
    </div>
   </div>
   <div class="controls">
    <div class="file-info-container">
     <div class="file-info">
      <div class="file-icon" id="fileIcon">
       <span id="fileIconText">
        TXT
       </span>
       <img alt="icon" id="fileIconImg" src=""/>
      </div>
      <input class="file-name" id="fileName" placeholder="Untitled-1.txt" type="text"/>
     </div>
    </div>
    <div style="display: flex; align-items: center; gap: 16px;">
     <select class="file-ext-select" id="fileExtSelect" title="Select file extension for download">
      <option selected="" value="auto">
       Auto-detect
      </option>
      <option value="txt">
       .txt
      </option>
      <option value="py">
       .py
      </option>
      <option value="ahk">
       .ahk
      </option>
      <option value="js">
       .js
      </option>
      <option value="html">
       .html
      </option>
      <option value="css">
       .css
      </option>
      <option value="json">
       .json
      </option>
      <option value="md">
       .md
      </option>
      <option value="csv">
       .csv
      </option>
      <option value="pdf">
       .pdf
      </option>
      <option value="ipynb">
       .ipynb
      </option>
      <option value="xml">
       .xml
      </option>
      <option value="sql">
       .sql
      </option>
      <option value="java">
       .java
      </option>
      <option value="c">
       .c
      </option>
      <option value="cpp">
       .cpp
      </option>
      <option value="cs">
       .cs
      </option>
     </select>
     <button class="action-btn download-btn" id="downloadBtn" title="Download the file (Tab)">
      <div class="spinner" id="spinner">
      </div>
      <svg fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
       <path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V3" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
      Download File
     </button>
    </div>
   </div>
  </div>
  <div class="toast" id="toast">
   <svg fill="none" height="24" id="toastIcon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14">
    </path>
    <polyline points="22 4 12 14.01 9 11.01">
    </polyline>
   </svg>
   <span id="toastMessage">
    Notification Text
   </span>
  </div>
  <!-- ADDED: Go To Line Modal HTML -->
  <div class="modal-overlay" id="goToLineModal">
   <div class="modal-content">
    <span class="modal-close" id="closeGoToLineModal">
     ×
    </span>
    <h2>
     Go to Line
    </h2>
    <p>
     Enter a line number to navigate to.
    </p>
    <input id="lineNumberInput" min="1" placeholder="e.g., 42" type="number"/>
    <button class="modal-btn" id="submitGoToLineBtn">
     Go
    </button>
    <div class="line-preview-area" id="linePreview">
    </div>
   </div>
  </div>
  <script defer="True" src="script.js">
  </script>
 </body>
</html>
